## Administrator-Linux-Lesson-10-Bash
## Скрипты для обработки log-файла

Создание скриптов для анализа log-файла “access-4560-644067.log”.

    Задание 1. Получить список IP адресов (Top 10 с наибольшим кол-вом запросов) с указанием кол-ва запросов.

    Скрипт 1:

#!/bin/bash

#Путь к файлу логов

LOG_FILE="/home/badger/access-4560-644067.log"

#Проверяем, существует ли файл логов

if [ ! -f "$LOG_FILE" ]; then

    echo "Ошибка: файл $LOG_FILE не найден!" >&2
    
    exit 1
    
fi

#Анализируем логи и сохраняем топ-10 IP в файл loganalysis1

echo "Топ-10 IP-адресов с наибольшим количеством запросов:" > loganalysis1

echo "-----------------------------------------------" >> loganalysis1

awk '{print $1}' "$LOG_FILE" | sort | uniq -c | sort -nr | head -n 10 >> loganalysis1

echo "Анализ завершен. Результаты сохранены в файл loganalysis1."

Результат выполнения скрипта:

badger@ubuntu:~$ ./script1.sh

Анализ завершен. Результаты сохранены в файл loganalysis1.

badger@ubuntu:~$ cat loganalysis1

Топ-10 IP-адресов с наибольшим количеством запросов:

-----------------------------------------------
     45 93.158.167.130
     39 109.236.252.130
     37 212.57.117.19
     33 188.43.241.106
     31 87.250.233.68
     24 62.75.198.172
     22 148.251.223.21
     20 185.6.8.9
     17 217.118.66.161
     16 95.165.18.146

